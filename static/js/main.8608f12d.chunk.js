(this.webpackJsonpwiscshop=this.webpackJsonpwiscshop||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(33),s=a.n(o),i=(a(86),a(87),a(5)),c=a.n(i),l=a(9),u=a(13),p=a(12),m=a(14),h=a(15),d=a(16),f=(a(28),a(54)),y=a(76),g=a(8),v=a(19),w=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:50,margin:0}},"WiscShop"),r.a.createElement("p",{style:{fontSize:30}},"Badger Store"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(g.b,{to:"/signUp",className:"button",style:{margin:20}},r.a.createElement(v.a,{variant:"outline-dark"},"Sign up")),r.a.createElement(g.b,{to:"/signIn",className:"button",style:{margin:20}},r.a.createElement(v.a,{variant:"outline-dark"},"Sign in"))))}}]),t}(r.a.Component),b=a(38),E=a(25),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={firstName:"",lastName:"",username:"",password:"",confirmPassword:"",redirect:null},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return null!=this.state.redirect?r.a.createElement(b.a,{push:!0,to:"/"+this.state.redirect}):r.a.createElement("div",{className:"dark",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:40}},"Create an account"),r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{style:{width:500}},r.a.createElement(E.a.Control,{type:"text",placeholder:"First name",onChange:function(t){return e.setState({firstName:t.target.value})},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(E.a.Control,{type:"text",placeholder:"Last name",onChange:function(t){return e.setState({lastName:t.target.value})},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(E.a.Control,{type:"text",placeholder:"Username",onChange:function(t){e.setState({username:t.target.value}),e.setWarning(t.target.value,e.state.password,e.state.confirmPassword)},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(E.a.Control,{type:"password",placeholder:"Password",onChange:function(t){e.setState({password:t.target.value}),e.setWarning(e.state.username,t.target.value,e.state.confirmPassword)},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(E.a.Control,{type:"password",placeholder:"Confirm password",onChange:function(t){e.setState({confirmPassword:t.target.value}),e.setWarning(e.state.username,e.state.password,t.target.value)},style:{margtnTop:20,marginBottom:20}}))),r.a.createElement("p",{style:{height:19,color:"#c72e2e"}},this.state.warning),r.a.createElement(v.a,{variant:"outline-dark",style:{marginTop:20,marginBottom:20},onClick:function(){return e.signUp()}},"Sign up"),r.a.createElement(g.b,{to:"/signIn",className:"clear-button"},"Sign in instead"))}},{key:"setWarning",value:function(e,t,a){e.length<5?this.setState({warning:"Username must be 5 characters or longer"}):t.length<5?this.setState({warning:"Password must be 5 characters or longer"}):t!==a?this.setState({warning:"Passwords do not match"}):this.setState({warning:""})}},{key:"signUp",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.warning){e.next=5;break}return e.next=3,this.props.signUp(this.state.username,this.state.password,this.state.firstName,this.state.lastName);case 3:e.sent&&this.setState({redirect:this.state.username});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={username:null,password:null,redirect:null,warning:""},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return null!=this.state.redirect?r.a.createElement(b.a,{push:!0,to:"/"+this.state.redirect}):r.a.createElement("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:40}},"Sign in"),r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{style:{width:500}},r.a.createElement(E.a.Control,{type:"text",placeholder:"Username",onChange:function(t){return e.setState({username:t.target.value})},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(E.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},style:{margtnTop:20,marginBottom:20}}))),this.getWarning(),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.signIn()},style:{marginTop:20,marginBottom:20}},"Sign in"),r.a.createElement(g.b,{to:"/signUp",className:"clear-button"},"Sign up instead"))}},{key:"getWarning",value:function(){return r.a.createElement("p",{style:{height:19,color:"#c72e2e"}},this.state.warning)}},{key:"signIn",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.signIn(this.state.username,this.state.password);case 2:if(!e.sent){e.next=9;break}return e.next=6,this.setState({warning:""});case 6:this.setState({redirect:this.state.username}),e.next=10;break;case 9:this.setState({warning:"Incorrect username or password"});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(r.a.Component),O=a(60),j=a(47),T=a(10),S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={checked:!1},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:I.pageTitle},r.a.createElement("span",{style:{marginTop:100}},r.a.createElement("h1",null,"Welcome, ",this.props.firstName?this.props.firstName:this.props.username))),r.a.createElement("div",{style:I.pageBody},this.getCategories()))}},{key:"getCategories",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.props.categories[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.push(r.a.createElement(g.b,{to:"/"+this.props.username+"/"+i,key:i,className:"basic",style:I.link},r.a.createElement(T.a,{style:I.cardBody,className:"text-center"},r.a.createElement(T.a.Body,{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(T.a.Title,null,r.a.createElement("h2",null,i[0].toUpperCase()+i.substring(1,i.length))),this.getCategoryIcon(i)))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"getCategoryIcon",value:function(e){switch(e){case"plushes":return r.a.createElement(T.a.Text,null,r.a.createElement(j.c,{style:I.iconStyle,size:48}));case"hats":return r.a.createElement(T.a.Text,null,r.a.createElement(O.a,{style:I.iconStyle,size:48}));case"leggings":return r.a.createElement(T.a.Text,null,r.a.createElement(j.b,{style:I.iconStyle,size:48}));case"sweatshirts":return r.a.createElement(T.a.Text,null,r.a.createElement(j.d,{style:I.iconStyle,size:48}));case"bottoms":return r.a.createElement(T.a.Text,null,r.a.createElement(j.a,{style:I.iconStyle,size:48}));case"tees":return r.a.createElement(T.a.Text,null,r.a.createElement(O.b,{style:I.iconStyle,size:48}));default:return r.a.createElement(T.a.Text,null)}}}]),t}(r.a.Component),I={pageTitle:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",fontWeight:"bold"},pageBody:{height:"40%",width:"70%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},cardBody:{textDecoration:"none",color:"#000",width:250,height:200},link:{margin:"1em"},shoppingCartIcon:{height:"3em",width:"3em",position:"absolute",right:0,top:0,marginTop:"0.5em",marginRight:"0.5em"},swithButton:{marginTop:"0.5em",marginLeft:"0.5em"}},C=S,P=a(23),N=a(71),D=a(34),U=a(20);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={products:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProducts();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 0===this.state.products.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:_.homeIcon})),r.a.createElement("div",{style:L({},_.container,{fontSize:30})},"Looks like you don't have any items in your cart")):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:_.homeIcon})),r.a.createElement("div",{style:L({},_.container,{fontSize:30})},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},this.getProducts()),"Total: $",this.getTotalPrice(),r.a.createElement(v.a,{variant:"outline-dark",style:L({},_.buttonStyle,{marginTop:20}),onClick:function(){return e.clearCart()}},"Clear cart"),r.a.createElement(g.b,{to:"/"+this.props.username+"/cart-review",className:"basic"},r.a.createElement(v.a,{variant:"outline-dark",style:L({},_.buttonStyle,{marginTop:20})},"Purchase"))))}},{key:"fetchProducts",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=7,fetch(window.$ENDPOINT_URL+"/application/products",a);case 7:if((n=e.sent).ok){e.next=12;break}return e.next=11,this.delay(500);case 11:return e.abrupt("continue",0);case 12:return e.next=14,n.json();case 14:return r=e.sent,this.setState({products:r.products}),e.next=18,this.delay(500);case 18:e.next=0;break;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProducts",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.state.products[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.push(r.a.createElement(g.b,{key:i.id,to:"/"+this.props.username+"/"+i.category+"/products/"+i.id,className:"basic",style:{margin:"1em"}},r.a.createElement(T.a,{key:i.name,style:_.cardBody},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,r.a.createElement("h2",null,i.name)),r.a.createElement(T.a.Subtitle,{style:{marginTop:5}},"$",i.price),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:18}},r.a.createElement(D.a,{style:{width:150,marginBottom:10},src:i.image,rounded:!0}),this.getQuantityButtons(i.id),r.a.createElement("div",{style:{marginTop:10,fontSize:30}},"$",i.price*i.count))))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"getTotalPrice",value:function(){var e=0,t=!0,a=!1,n=void 0;try{for(var r,o=this.state.products[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e+=s.count*s.price}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e}},{key:"getQuantityButtons",value:function(e){var t=this,a=null,n=!0,o=!1,s=void 0;try{for(var i,c=this.state.products[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var l=i.value;if(l.id===e){a=l;break}}}catch(u){o=!0,s=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}return r.a.createElement(N.a,{style:{display:"flex",flexDirection:"row",marginTop:30}},r.a.createElement(v.a,{variant:"outline-dark",onClick:function(a){return t.decrease(a,e)},style:{width:40}},"-"),r.a.createElement(v.a,{variant:"outline-dark",disabled:!0},a.count),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(a){return t.increase(a,e)},style:{width:40}},"+"))}},{key:"decrease",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new Headers).append("Content-Type","application/json"),n.append("x-access-token",localStorage.getItem("token")),r={method:"DELETE",headers:n,redirect:"follow"},e.next=7,fetch(window.$ENDPOINT_URL+"/application/products/"+a,r);case 7:return e.next=9,this.fetchProducts();case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"increase",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new Headers).append("Content-Type","application/json"),n.append("x-access-token",localStorage.getItem("token")),r={method:"POST",headers:n,redirect:"follow"},e.next=7,fetch(window.$ENDPOINT_URL+"/application/products/"+a,r);case 7:return e.next=9,this.fetchProducts();case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"clearCart",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"DELETE",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/application/products",a);case 6:return e.next=8,this.fetchProducts();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delay",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(2)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(r.a.Component),_={container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},cardBody:{width:300},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"}},$=R;function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={products:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/application/products",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,this.setState({products:r.products});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.products.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:F.homeIcon})),r.a.createElement("div",{style:H({},F.container,{fontSize:30})},"Looks like you don't have any items in your cart")):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:F.homeIcon})),r.a.createElement("div",{style:H({},F.container,{fontSize:30})},r.a.createElement("p",{style:{fontSize:40}},"Confirm your order"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},this.getProducts()),"Total: $",this.getTotalPrice(),r.a.createElement(g.b,{to:"/"+this.props.username+"/cart-confirmed",className:"basic"},r.a.createElement(v.a,{variant:"outline-dark",style:H({},F.buttonStyle,{marginTop:20})},"Confirm"))))}},{key:"getProducts",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.state.products[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.push(r.a.createElement(g.b,{key:i.id,to:"/"+this.props.username+"/"+i.category+"/products/"+i.id,className:"basic",style:{margin:"1em"}},r.a.createElement(T.a,{key:i.name,style:F.cardBody},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,r.a.createElement("h2",null,i.name)),r.a.createElement(T.a.Subtitle,{style:{marginTop:5}},"$",i.price),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:18}},r.a.createElement(D.a,{style:{width:150,marginBottom:10},src:i.image,rounded:!0}),r.a.createElement("div",null,"x ",i.count),r.a.createElement("div",{style:{marginTop:10,fontSize:30}},"$",i.price*i.count))))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"getTotalPrice",value:function(){var e=0,t=!0,a=!1,n=void 0;try{for(var r,o=this.state.products[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e+=s.count*s.price}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e}}]),t}(r.a.Component),F={container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},cardBody:{width:300},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"}},G=W;function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={products:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/application/products",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,this.setState({products:r.products});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.products.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:A.homeIcon})),r.a.createElement("div",{style:J({},A.container,{fontSize:30})},"Looks like you don't have any items in your cart")):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:A.homeIcon})),r.a.createElement("div",{style:J({},A.container,{fontSize:30})},r.a.createElement("p",{style:{fontSize:40}},"Your order has been placed"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},this.getProducts()),"Total: $",this.getTotalPrice()))}},{key:"getProducts",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.state.products[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.push(r.a.createElement(g.b,{key:i.id,to:"/"+this.props.username+"/"+i.category+"/products/"+i.id,className:"basic",style:{margin:"1em"}},r.a.createElement(T.a,{key:i.name,style:A.cardBody},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,r.a.createElement("h2",null,i.name)),r.a.createElement(T.a.Subtitle,{style:{marginTop:5}},"$",i.price),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:18}},r.a.createElement(D.a,{style:{width:150,marginBottom:10},src:i.image,rounded:!0}),r.a.createElement("div",null,"x ",i.count),r.a.createElement("div",{style:{marginTop:10,fontSize:30}},"$",i.price*i.count))))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"getTotalPrice",value:function(){var e=0,t=!0,a=!1,n=void 0;try{for(var r,o=this.state.products[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e+=s.count*s.price}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e}}]),t}(r.a.Component),A={container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},cardBody:{width:300},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"}},Q=M,Y=a(72),K=a(125),V=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={products:[],tags:[],applicationTags:[]},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:X.homeIcon})),r.a.createElement(g.b,{to:"/"+this.props.username+"/cart",className:"button",style:{margin:20}},r.a.createElement(U.b,{style:X.shoppingCartIcon})),r.a.createElement("div",{style:X.pageTitle},r.a.createElement("span",null,r.a.createElement("h1",null,this.props.name[0].toUpperCase()+this.props.name.substring(1,this.props.name.length)))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},this.getTags()),r.a.createElement("div",{style:X.pageBody},this.getProducts()))}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.clearTags();case 2:return e.next=4,this.fetchProducts();case 4:this.fetchTags(),this.fetchTagsFromServer();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearTags",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"DELETE",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/application/tags",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchTagsFromServer",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=7,fetch(window.$ENDPOINT_URL+"/application/tags",a);case 7:if((n=e.sent).ok){e.next=12;break}return e.next=11,this.delay(500);case 11:return e.abrupt("continue",0);case 12:return e.next=14,n.json();case 14:if((r=e.sent).tags.length===this.state.applicationTags.length){e.next=21;break}return e.next=18,this.setState({applicationTags:r.tags});case 18:return e.next=20,this.fetchProducts();case 20:return e.abrupt("continue",0);case 21:o=0;case 22:if(!(o<this.state.applicationTags.length)){e.next=32;break}if(r.tags[o]===this.state.applicationTags[o]){e.next=29;break}return e.next=26,this.setState({applicationTags:r.tags});case 26:return e.next=28,this.fetchProducts();case 28:return e.abrupt("break",32);case 29:o++,e.next=22;break;case 32:return e.next=34,this.delay(500);case 34:e.next=0;break;case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delay",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(2)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProducts",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.state.products[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;e.push(r.a.createElement(g.b,{key:i.id,to:"/"+this.props.username+"/"+i.category+"/products/"+i.id,className:"basic",style:{margin:"1em"}},r.a.createElement(T.a,{key:i.name,style:X.cardBody},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,r.a.createElement("h2",null,i.name)),r.a.createElement(T.a.Subtitle,{style:{marginTop:5}},"$",i.price),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(D.a,{style:{width:150},src:i.image,rounded:!0}))))))}}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"fetchProducts",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,s,i,l,u,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.state.applicationTags)&&0!==t.length){e.next=16;break}return(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",localStorage.getItem("token")),n={method:"GET",headers:a,redirect:"follow"},e.next=8,fetch(window.$ENDPOINT_URL+"/products?category="+this.props.name,n);case 8:return r=e.sent,e.next=11,r.json();case 11:return o=e.sent,e.next=14,this.setState({products:o.products});case 14:e.next=30;break;case 16:for((s=new Headers).append("Content-Type","application/json"),s.append("x-access-token",localStorage.getItem("token")),i={method:"GET",headers:s,redirect:"follow"},l="",u=0;u<t.length;u++)u===t.length-1?l+=t[u]:l+=t[u]+",";return e.next=24,fetch(window.$ENDPOINT_URL+"/products?category="+this.props.name+"&tags="+l,i);case 24:return p=e.sent,e.next=27,p.json();case 27:return m=e.sent,e.next=30,this.setState({products:m.products});case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchTags",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/categories/"+this.props.name+"/tags",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,this.setState({tags:r.tags});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTags",value:function(){var e=this;if(0===this.state.tags.length)return r.a.createElement(Y.a,{animation:"border"});for(var t=[],a=this.getChecked(),n=function(n){t.push(r.a.createElement("div",{key:"tag_"+n,style:{display:"flex",flexDirection:"row",alignItems:"center",margin:10}},r.a.createElement(K.a,{onChange:function(t){return e.handleCheck(t,e.state.tags[n])},checked:a[n],color:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement("div",null,e.state.tags[n])))},o=0;o<this.state.tags.length;o++)n(o);return t}},{key:"getChecked",value:function(){for(var e=[],t=0;t<this.state.tags.length;t++)e.push(this.state.applicationTags.indexOf(this.state.tags[t])>-1);return e}},{key:"handleCheck",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=9;break}return(n=new Headers).append("Content-Type","application/json"),n.append("x-access-token",localStorage.getItem("token")),r={method:"POST",headers:n,redirect:"follow"},e.next=7,fetch(window.$ENDPOINT_URL+"/application/tags/"+a,r);case 7:e.next=15;break;case 9:return(o=new Headers).append("Content-Type","application/json"),o.append("x-access-token",localStorage.getItem("token")),s={method:"DELETE",headers:o,redirect:"follow"},e.next=15,fetch(window.$ENDPOINT_URL+"/application/tags/"+a,s);case 15:return e.next=17,this.fetchProducts();case 17:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),t}(r.a.Component),X={pageTitle:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",fontWeight:"bold"},pageBody:{height:"40%",width:"70%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},cardBody:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",width:300},shoppingCartIcon:{height:"3em",width:"3em",position:"absolute",right:0,top:0,marginTop:"0.5em",marginRight:"0.5em"},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"}},Z=V,ee=a(126),te=a(127),ae=a(124),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getReviewList=function(){var e=[],t=!0,n=!1,o=void 0;try{for(var s,i=a.state.reviewsList[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var c=s.value;e.push(r.a.createElement(T.a,{key:c.id,style:re.review},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,r.a.createElement(ae.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(te.a,{name:"rating",value:c.stars,precision:.1,readOnly:!0}))),r.a.createElement(T.a.Subtitle,{className:"mb-2 text-muted"},c.title),r.a.createElement(T.a.Text,null,c.text))))}}catch(l){n=!0,o=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}return e},a.state={reviewsList:[],quantity:1,showToast:!1},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({reviewList:this.fetchReviews()})}},{key:"fetchReviews",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.$ENDPOINT_URL,(a=new Headers).append("Content-Type","application/json"),a.append("x-access-token",localStorage.getItem("token")),n={method:"GET",headers:a,redirect:"follow"},e.next=7,fetch(t+this.props.path+"/reviews",n);case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,this.setState({reviewsList:o.reviews});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{to:"/"+this.props.username,className:"button",style:{margin:20}},r.a.createElement(U.a,{style:re.homeIcon})),r.a.createElement(g.b,{to:"/"+this.props.username+"/cart",className:"button",style:{margin:20}},r.a.createElement(U.b,{style:re.shoppingCartIcon})),r.a.createElement("div",{style:re.pageTitle},r.a.createElement("span",null,r.a.createElement("h1",null,this.props.product.name))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:re.pageBody},r.a.createElement(D.a,{src:this.props.product.image,style:{width:400,marginBottom:25}}),this.props.product.description,this.getQuantityButtons(),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.addToCart()},style:{marginTop:20,marginBottom:20}},"Add to cart"),r.a.createElement(ee.a,{onClose:function(){return e.setState({showToast:!1})},show:this.state.showToast,delay:3e3,autohide:!0},r.a.createElement(ee.a.Body,null,"\u2713 Added to cart")),r.a.createElement("div",{style:{width:"100%"}},this.getReviewList()))))}},{key:"addToCart",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"POST",headers:t,redirect:"follow"},n=0;case 5:if(!(n<this.state.quantity)){e.next=11;break}return e.next=8,fetch(window.$ENDPOINT_URL+"/application/products/"+this.props.product.id,a);case 8:n++,e.next=5;break;case 11:this.setState({showToast:!0});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuantityButtons",value:function(){var e=this;return r.a.createElement(N.a,{style:{display:"flex",flexDirection:"row",marginTop:30}},r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.decrease()},style:{width:40}},"-"),r.a.createElement(v.a,{variant:"outline-dark",disabled:!0},this.state.quantity),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.increase()},style:{width:40}},"+"))}},{key:"decrease",value:function(){this.state.quantity>1&&this.setState({quantity:this.state.quantity-1})}},{key:"increase",value:function(){this.setState({quantity:this.state.quantity+1})}}]),t}(r.a.Component),re={pageTitle:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",fontWeight:"bold"},pageBody:{height:"40%",width:"40%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:"2em"},cardBody:{margin:"1em"},shoppingCartIcon:{height:"3em",width:"3em",position:"absolute",right:0,top:0,marginTop:"0.5em",marginRight:"0.5em"},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"},review:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",marginLeft:"2em",marginRight:"2em",marginTop:"2em"},image:{width:400}},oe=ne,se=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:50,margin:0}},"404"),r.a.createElement("p",{style:{fontSize:30}},"Whoops. This isn't the page you're looking for"))}}]),t}(r.a.Component),ie=a(74),ce=a.n(ie),le=(a(101),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={categories:[],products:[],serverRoute:"/",shouldUpdate:!0},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(f.a,{bg:"primary",variant:"dark",fixed:"top"},r.a.createElement(g.b,{to:localStorage.getItem("auth")?"/"+localStorage.getItem("username"):"/"},r.a.createElement(f.a.Brand,null,"WiscShop")),r.a.createElement(y.a,{className:"ml-auto"},localStorage.getItem("auth")?r.a.createElement(g.b,{to:"/"+localStorage.getItem("username")+"/cart"},r.a.createElement(f.a.Text,{className:"mr-sm-2"},"Cart")):r.a.createElement(r.a.Fragment,null))),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/"},r.a.createElement(w,null)),r.a.createElement(b.b,{path:"/signUp"},r.a.createElement(x,{signUp:function(t,a,n,r){return e.signUp(t,a,n,r)}})),r.a.createElement(b.b,{path:"/signIn"},r.a.createElement(k,{signIn:function(t,a){return e.signIn(t,a)}})),this.getUserRoutes(),r.a.createElement(b.b,{path:"/"},r.a.createElement(se,null))))))}},{key:"componentDidMount",value:function(){this.fetchCategories(),this.fetchProducts(),this.routeFromServer()}},{key:"routeFromServer",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r,o,s,i,l,u,p,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.shouldUpdate){e.next=52;break}return e.prev=1,(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=8,fetch(window.$ENDPOINT_URL+"/application",a);case 8:if((n=e.sent).ok){e.next=11;break}throw new se;case 11:return e.next=13,n.json();case 13:if(r=e.sent,o=window.location.protocol+"//"+window.location.host,(s=window.location.href.replace(o,""))===r.page){e.next=33;break}if(!r.dialogflowUpdated){e.next=26;break}return window.location.href=o+r.page,this.setState({serverRoute:r.page}),i=JSON.stringify({dialogflowUpdated:!1}),a={method:"PUT",headers:t,body:i,redirect:"follow"},e.next=24,fetch(window.$ENDPOINT_URL+"/application",a);case 24:e.next=31;break;case 26:return l=JSON.stringify({page:s,dialogflowUpdated:!1}),this.setState({serverRoute:s}),a={method:"PUT",headers:t,body:l,redirect:"follow"},e.next=31,fetch(window.$ENDPOINT_URL+"/application",a);case 31:e.next=42;break;case 33:if(!r.back){e.next=42;break}return window.history.back(),u=window.location.protocol+"//"+window.location.host,p=window.location.href.replace(u,""),this.setState({serverRoute:p}),m=JSON.stringify({page:p,dialogflowUpdated:!1,back:!1}),a={method:"PUT",headers:t,body:m,redirect:"follow"},e.next=42,fetch(window.$ENDPOINT_URL+"/application",a);case 42:return e.next=44,this.delay(500);case 44:e.next=50;break;case 46:return e.prev=46,e.t0=e.catch(1),e.next=50,this.getToken(localStorage.getItem("username"),localStorage.getItem("password"));case 50:e.next=0;break;case 52:case"end":return e.stop()}}),e,this,[[1,46]])})));return function(){return e.apply(this,arguments)}}()},{key:"delay",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(2)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({shouldUpdate:!1})}},{key:"getUserRoutes",value:function(){var e=localStorage.getItem("username");if(null!=e){var t=[];t.push(r.a.createElement(b.b,{key:"route_user",exact:!0,path:"/"+e},r.a.createElement(C,{username:e,categories:this.state.categories}))),t.push(r.a.createElement(b.b,{key:"route_user_cart",path:"/"+e+"/cart"},r.a.createElement($,{username:e}))),t.push(r.a.createElement(b.b,{key:"route_user_cart_review",path:"/"+e+"/cart-review"},r.a.createElement(G,{username:e}))),t.push(r.a.createElement(b.b,{key:"route_user_cart_confirmed",path:"/"+e+"/cart-confirmed"},r.a.createElement(Q,{username:e})));var a=!0,n=!1,o=void 0;try{for(var s,i=this.state.categories[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var c=s.value;t.push(r.a.createElement(b.b,{key:"route_user_"+c,exact:!0,path:"/"+e+"/"+c},r.a.createElement(Z,{name:c,username:e})))}}catch(f){n=!0,o=f}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}var l=!0,u=!1,p=void 0;try{for(var m,h=this.state.products[Symbol.iterator]();!(l=(m=h.next()).done);l=!0){var d=m.value;t.push(r.a.createElement(b.b,{key:"route_user_"+d.id,path:"/"+e+"/"+d.category+"/products/"+d.id},r.a.createElement(oe,{product:d,username:e,path:"/products/"+d.id})))}}catch(f){u=!0,p=f}finally{try{l||null==h.return||h.return()}finally{if(u)throw p}}return t}}},{key:"fetchCategories",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/categories/",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,this.setState({categories:r.categories});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProducts",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),t.append("x-access-token",localStorage.getItem("token")),a={method:"GET",headers:t,redirect:"follow"},e.next=6,fetch(window.$ENDPOINT_URL+"/products/",a);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,this.setState({products:r.products});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Basic "+ce.a.encode(t+":"+a)),r={method:"GET",headers:n,redirect:"follow"},e.prev=4,e.next=7,fetch(window.$ENDPOINT_URL+"/login/",r);case 7:return o=e.sent,e.next=10,o.json();case 10:if("token"in(s=e.sent)){e.next=14;break}return localStorage.setItem("auth",!1),e.abrupt("return",!1);case 14:localStorage.setItem("token",s.token),localStorage.setItem("username",t),localStorage.setItem("password",a),this.forceUpdate(),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(4),localStorage.setItem("auth",!1),e.abrupt("return",!1);case 24:return e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this,[[4,20]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(t,a);case 2:return n=e.sent,localStorage.setItem("auth",!0),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(l.a)(c.a.mark((function e(t,a,n,r){var o,s,i,l,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new Headers).append("Content-Type","application/json"),s=JSON.stringify({username:t,password:a,firstName:n,lastName:r}),i={method:"POST",headers:o,body:s,redirect:"follow"},e.prev=4,e.next=7,fetch(window.$ENDPOINT_URL+"/users/",i);case 7:return l=e.sent,e.next=10,l.json();case 10:if("message"in(u=e.sent)&&"User created!"===u.message){e.next=13;break}return e.abrupt("return",!1);case 13:return e.next=15,this.getToken(t,a);case 15:return p=e.sent,localStorage.setItem("auth",!1),e.abrupt("return",p);case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,this,[[4,20]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.$USE_LOCAL_ENDPOINT=!1,window.$ENDPOINT_URL="",window.$USE_LOCAL_ENDPOINT?window.$ENDPOINT_URL="http://127.0.0.1:5000":window.$ENDPOINT_URL="https://mysqlcs639.cs.wisc.edu",s.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},28:function(e,t,a){},81:function(e,t,a){e.exports=a(102)},86:function(e,t,a){},87:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.8608f12d.chunk.js.map